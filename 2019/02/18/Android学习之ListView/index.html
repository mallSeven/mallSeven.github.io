<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
    
    <meta charset="utf-8">
    <meta name="baidu-site-verification" content="vvVgSQUzPU">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="">
     
    <meta name="description" content="不忘初心 方得始终">
    
    <title>
      Android学习之ListView - 会骑牛的小七
    </title>
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/style/style.css">
  </head>
  <body>
    <div id="fixed-menu">
      <span class="iconfont icon-arrowup"></span>
    </div>
    <div id="progress">
      <div class="line"></div>
    </div>
    <div id="head">
      
      <a href="/" class="">
        Home
      </a>
      
      <a href="/archives" class="">
        Archives
      </a>
      
      <a href="/about" class="">
        About
      </a>
      
    </div>
    <div id="container">
      <div id="main">
        <div class="navbar">
          <div class="toggle">
            <span class="iconfont icon-menu toggle-icon"></span>
          </div>
          <div class="search">
            <div class="input-warp">
              <!-- <span class="iconfont icon-sousuo"></span> -->
              <input type="text" name="" class="st-default-search-input" id="site-search" placeholder="Search Keys">
            </div>
          </div>
        </div>
        <div class="content">
          <article class="post-entry">
    <div class="header">
      <div class="title">Android学习之ListView</div>
      <div class="meta">
        <span class="item">
          <span class="iconfont icon-time-circle"></span>
          <span>2019/02/18</span>
        </span>

        
        
        

        
          <span class="item leancloud-visitors" id="/2019/02/18/Android学习之ListView/" data-flag-title="Android学习之ListView">
            <span class="iconfont icon-eye1"></span>
            <span class="leancloud-visitors-count"></span>
          </span>
        
      </div>
      <div>
      </div>
    </div>
    <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本职：iOS开发<br>学习中：Android开发<br>书籍：《第一行代码》、《Java核心技术 卷I》</p>
<p><n><br>通过几天的学习和了解：Android studio和Xcode、Java和OC或是Swift，不得不说在开发工具还是苹果的用着舒服点，语法上各有千秋，因为本职是做iOS开发工作的，业余时间来学习Android，附带复习一下Java的基础语法，在此做个笔记，记录一下学习的知识点。</n></p>
<h2 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h2><p>Android的基础控件比较简单，但是在实际的项目开发中最常用的还是表格，Android中称之为ListView，iOS中描述为UITableView.</p>
<h3>1、ListView的简单使用</h3>

<p>使用场景：记录用户的名字，性别，年龄。<br><br></p>
<ul>
<li>创建一个活动（activity）</li>
<li>在生成的xml布局文件中添加ListView</li>
<li>在活动中通过id获取到ListView的实例</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ListView listView = findViewById(R.id.listView);</span><br></pre></td></tr></table></figure>
<ul>
<li>新建一个实体类 作为ListView适配器的适配类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class User &#123;</span><br><span class="line"></span><br><span class="line">String userName;</span><br><span class="line">String userGender;</span><br><span class="line">int userAge;</span><br><span class="line"></span><br><span class="line">public  User(String name, String gender, int age) &#123;</span><br><span class="line">    this.userName = name;</span><br><span class="line">    this.userGender = gender;</span><br><span class="line">    this.userAge = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public String getUserGender() &#123;</span><br><span class="line">    return userGender;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public String getUserName() &#123;</span><br><span class="line">    return userName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public int getUserAge() &#123;</span><br><span class="line">    return userAge;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>为ListView的item自定义一个布局，创建三个TextView，采用的是线性布局LinearLayout方式。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line"></span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">android:orientation=&quot;vertical&quot;</span><br><span class="line">android:layout_width=&quot;match_parent&quot;</span><br><span class="line">android:layout_height=&quot;match_parent&quot; &gt;</span><br><span class="line"></span><br><span class="line">&lt;TextView</span><br><span class="line">android:id=&quot;@+id/textView&quot;</span><br><span class="line">android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">android:layout_marginLeft=&quot;20dp&quot;</span><br><span class="line">android:layout_marginTop=&quot;20dp&quot;</span><br><span class="line">android:text=&quot;姓名&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;TextView</span><br><span class="line">android:id=&quot;@+id/textView2&quot;</span><br><span class="line">android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">android:layout_marginLeft=&quot;20dp&quot;</span><br><span class="line">android:layout_marginTop=&quot;20dp&quot;</span><br><span class="line">android:text=&quot;性别&quot; /&gt;</span><br><span class="line"></span><br><span class="line">&lt;TextView</span><br><span class="line">android:id=&quot;@+id/textView3&quot;</span><br><span class="line">android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">android:layout_marginLeft=&quot;20dp&quot;</span><br><span class="line">android:layout_marginTop=&quot;20dp&quot;</span><br><span class="line">android:layout_marginBottom=&quot;20dp&quot;</span><br><span class="line">android:text=&quot;年龄&quot;/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建一个适配器，继承于ArrayAdapter，并指定它的泛型为 User类</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class UserAdapter extends ArrayAdapter&lt;User&gt; &#123;</span><br><span class="line"></span><br><span class="line">private int resourceId;</span><br><span class="line"></span><br><span class="line">public UserAdapter(Context context, int textViewResourceId) &#123;</span><br><span class="line">    super(context, textViewResourceId);</span><br><span class="line">    resourceId = textViewResourceId;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">public View getView(int position, View convertView, ViewGroup parent) &#123;</span><br><span class="line">    User user = getItem(position); //获取当前User的实例</span><br><span class="line">    View view = LayoutInflater.from(getContext()).inflate(this.resourceId, null); //类似于tableView的UITableCell</span><br><span class="line">    TextView nameTextView = view.findViewById(R.id.textView);</span><br><span class="line">    TextView genderTextView = view.findViewById(R.id.textView2);</span><br><span class="line">    TextView ageTextView = view.findViewById(R.id.textView3);</span><br><span class="line">    nameTextView.setText(&quot;姓名：&quot; + user.getUserName());</span><br><span class="line">    genderTextView.setText(&quot;性别：&quot; + user.getUserGender());</span><br><span class="line">    ageTextView.setText(String.valueOf(&quot;年龄&quot; + user.getUserAge()));</span><br><span class="line">    return view;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建模拟数据</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">List&lt;User&gt; userList = new ArrayList&lt;User&gt;();</span><br><span class="line"></span><br><span class="line">private void loadData() &#123;</span><br><span class="line"></span><br><span class="line">    User user = new  User(&quot;张三&quot;, &quot;男&quot;, 10);</span><br><span class="line">    userList.add(user);</span><br><span class="line"></span><br><span class="line">    User user1 = new  User(&quot;李思思&quot;, &quot;女&quot;, 17);</span><br><span class="line">    userList.add(user1);</span><br><span class="line"></span><br><span class="line">    User user2 = new  User(&quot;王阿龙&quot;, &quot;男&quot;, 14);</span><br><span class="line">    userList.add(user2);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>新建 UserAdapter 实例，加载到ListView</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UserAdapter adapter = new UserAdapter(UserListActivity.this, R.layout.user_item);</span><br><span class="line">adapter.addAll(userList);</span><br><span class="line"></span><br><span class="line">listView.setAdapter(adapter);</span><br></pre></td></tr></table></figure>
<p>效果图<br><br><br><img src="/images/UserList.png" alt=""><br><br></p>
<h3>2、ListView的点击事件</h3>

<p>点击事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id)</span><br></pre></td></tr></table></figure>
<ul>
<li>view   – 当前点击项的对象view，类似于iOS开发中的当前行cell</li>
<li>position  – 点击的是第几项，从0开始的话，就是 第 position - 1个，类似于iOS开发中的 indexPath.row</li>
</ul>
<p>使用方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/** 添加监听器 **/</span><br><span class="line">listView.setOnItemClickListener(new AdapterView.OnItemClickListener() &#123;</span><br><span class="line"></span><br><span class="line">    /** 点击事件 **/</span><br><span class="line">    public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) &#123;</span><br><span class="line">        /** 可以 通过View 获取到当前View中的控件实例**/</span><br><span class="line">        //TextView textView = view.findViewById(R.id.textView);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3>3、ListView的运行效率优化</h3>

<p>1、iOS开发中是通过重用单元格的方式来保持运行的流畅度，也达到了节省内存的目的。<br>2、Android开发中在getView()方法每次都将布局重新都加载了一遍，通过阅读《第一行代码》了解了其优化的方式。<br><br></p>
<ul>
<li>判断convertView，若为空则加载布局，否则直接对convertView进行重用。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public View getView(int position, View convertView, ViewGroup parent) &#123;</span><br><span class="line">    User user = getItem(position); //获取当前User的实例</span><br><span class="line">    View view;</span><br><span class="line">    if (convertView == null) &#123;</span><br><span class="line">        view = LayoutInflater.from(getContext()).inflate(this.resourceId, null); //类似于tableView的UITableCell</span><br><span class="line">    &#125;else  &#123;</span><br><span class="line">        view = convertView;</span><br><span class="line">    &#125;</span><br><span class="line">    TextView nameTextView = view.findViewById(R.id.textView);</span><br><span class="line">    TextView genderTextView = view.findViewById(R.id.textView2);</span><br><span class="line">    TextView ageTextView = view.findViewById(R.id.textView3);</span><br><span class="line">    nameTextView.setText(&quot;姓名：&quot; + user.getUserName());</span><br><span class="line">    genderTextView.setText(&quot;性别：&quot; + user.getUserGender());</span><br><span class="line">    ageTextView.setText(String.valueOf(&quot;年龄&quot; + user.getUserAge()));</span><br><span class="line">    return view;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建一个内部类，对控件的实例进行缓存</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">class ViewHolder &#123;</span><br><span class="line">    TextView nameTextView;</span><br><span class="line">    TextView genderTextView;</span><br><span class="line">    TextView ageTextView;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>优化方式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">public View getView(int position, View convertView, ViewGroup parent) &#123;</span><br><span class="line">    User user = getItem(position); //获取当前User的实例</span><br><span class="line">    View view;</span><br><span class="line">    ViewHolder viewHolder;</span><br><span class="line">    if (convertView == null) &#123;</span><br><span class="line">        view = LayoutInflater.from(getContext()).inflate(this.resourceId, null); //类似于tableView的UITableCell</span><br><span class="line">        // 初始化ViewHolder实例</span><br><span class="line">        viewHolder = new ViewHolder();</span><br><span class="line">        viewHolder.nameTextView = view.findViewById(R.id.textView);</span><br><span class="line">        viewHolder.genderTextView = view.findViewById(R.id.textView2);</span><br><span class="line">        viewHolder.ageTextView = view.findViewById(R.id.textView3);</span><br><span class="line">        // 将ViewHolder存储在View中</span><br><span class="line">        view.setTag(viewHolder);</span><br><span class="line">    &#125;else  &#123;</span><br><span class="line">        view = convertView;</span><br><span class="line">        // 重新获取 viewHolder 中的控件实例</span><br><span class="line">        viewHolder = (ViewHolder)view.getTag();</span><br><span class="line">    &#125;</span><br><span class="line">    viewHolder.nameTextView.setText(&quot;姓名：&quot; + user.getUserName());</span><br><span class="line">    viewHolder.genderTextView.setText(&quot;性别：&quot; + user.getUserGender());</span><br><span class="line">    viewHolder.ageTextView.setText(String.valueOf(&quot;年龄&quot; + user.getUserAge()));</span><br><span class="line">    return view;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p> 任何事物都是在不断变化的</p>
</blockquote>


  

  
    <div class="post-reward">
      <div id="reward-button">请杯咖啡呗~</div>
      <div id="qr">
        <div class="wrap">
            
            <div class="bg-wrap">
              <a href="/images/zhifubao.png" target="_block" class="bg" style="background-image:url('/images/zhifubao.png')"></a>
              支付宝
            </div>
            
            
            <div class="bg-wrap">
                <a href="/images/weixin.png" target="_block" class="bg" style="background-image:url('/images/weixin.png')"></a>
              微信
            </div>
            
        </div>
      </div>
    </div>
  
  
  <div class="post-guide">
    <div class="item left">
        
    </div>
    <div class="item right">
        
          <a href="2018/12/28/firstBlog/">我的第一篇博客(个人博客)<span class="iconfont icon-right"></span></a>
        
    </div>
  </div>

  

  <div class="post-copyright">
    <div class="auth">
      本文作者：<a href="http://yoursite.com">Wang Sir</a>
    </div>
    <div class="link">
      永久链接：<a href="http://yoursite.com/2019/02/18/Android学习之ListView/">http://yoursite.com/2019/02/18/Android学习之ListView/</a>
    </div>
    <div class="declare">
      版权声明：本文首发于<a href="http://yoursite.com">Wang Sir</a>的博客，转载请注明出处！
    </div>
  </div>

  <div id="comment"></div>
</article>
        </div>
        <footer>
          <div class="copyright">
            ©2019 <a href="http://yoursite.com">Wang Sir</a>. Powered by
            <a href="https://hexo.io">Hexo</a> &
            <a href="https://github.com/shixiaohu2206/hexo-theme-huhu">hexo-theme-huhu</a>
          </div>
          
        </footer>
      </div>
      <div id="card-wrap">
        <div class="card">
          <div class="logo-widget">
            <div class="author">
              Wang Sir
            </div>
            <div class="logo" style="background-image: url('/images/logo.jpeg')"></div>
          </div>
          
          <div class="follow-widget">
            
            <a href="https://weibo.com/5734638106/profile?topnav=1&amp;wvr=6" target="_block">
              <span class="iconfont icon-weibo"></span>
            </a>
            
            <a href="https://github.com/mallSeven" target="_block">
              <span class="iconfont icon-github"></span>
            </a>
            
            <a href="https://www.facebook.com/profile.php?id=100027223340541" target="_block">
              <span class="iconfont icon-facebook"></span>
            </a>
             
            <a href="/atom.xml" target="_block">
              <span class="iconfont icon-rss"></span>
            </a>
            
          </div>
           
          <div class="toc-widget">
            <div class="title">
              <span>Toc</span>
            </div>
            <div class="post-toc">
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ListView"><span class="toc-text">ListView</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">1、ListView的简单使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">2、ListView的点击事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-text">3、ListView的运行效率优化</span></a></li></ol></li></ol>
            </div>
          </div>
           
          <div class="category-widget">
            <div class="title">
              <span>Categories</span>
              <span><a href="/archives">···</a></span>
            </div>
            <div class="list">
              
            </div>
          </div>
          <div class="tag-widget">
            <div class="title">
              <span>Tag Cloud</span>
              <span><a href="">···</a></span>
            </div>
            <div class="tag-cloud">
              
            </div>
          </div>
        </div>
        
      </div>
    </div>
    <!-- swiftype -->
    
    <!-- swiftype -->
  </body>
  
  <p id="theme_str" hidden>{&#34;title&#34;:&#34;会骑牛的小七&#34;,&#34;subtitle&#34;:null,&#34;description&#34;:&#34;不忘初心 方得始终&#34;,&#34;author&#34;:&#34;Wang Sir&#34;,&#34;language&#34;:&#34;zh-Hans&#34;,&#34;timezone&#34;:null,&#34;url&#34;:&#34;http://yoursite.com&#34;,&#34;root&#34;:&#34;/&#34;,&#34;permalink&#34;:&#34;:year/:month/:day/:title/&#34;,&#34;permalink_defaults&#34;:null,&#34;source_dir&#34;:&#34;source&#34;,&#34;public_dir&#34;:&#34;public&#34;,&#34;tag_dir&#34;:&#34;tags&#34;,&#34;archive_dir&#34;:&#34;archives&#34;,&#34;category_dir&#34;:&#34;categories&#34;,&#34;code_dir&#34;:&#34;downloads/code&#34;,&#34;i18n_dir&#34;:&#34;:lang&#34;,&#34;skip_render&#34;:null,&#34;new_post_name&#34;:&#34;:title.md&#34;,&#34;default_layout&#34;:&#34;post&#34;,&#34;titlecase&#34;:false,&#34;external_link&#34;:true,&#34;filename_case&#34;:0,&#34;render_drafts&#34;:false,&#34;post_asset_folder&#34;:false,&#34;relative_link&#34;:false,&#34;future&#34;:true,&#34;highlight&#34;:{&#34;enable&#34;:true,&#34;auto_detect&#34;:false,&#34;line_number&#34;:true,&#34;tab_replace&#34;:null,&#34;first_line_number&#34;:&#34;always1&#34;},&#34;default_category&#34;:&#34;uncategorized&#34;,&#34;category_map&#34;:null,&#34;tag_map&#34;:null,&#34;date_format&#34;:&#34;YYYY-MM-DD&#34;,&#34;time_format&#34;:&#34;HH:mm:ss&#34;,&#34;per_page&#34;:10,&#34;pagination_dir&#34;:&#34;page&#34;,&#34;theme&#34;:&#34;utone&#34;,&#34;deploy&#34;:{&#34;type&#34;:&#34;git&#34;,&#34;repo&#34;:&#34;https://github.com/mallSeven/mallSeven.github.io.git&#34;},&#34;ignore&#34;:[],&#34;keywords&#34;:null,&#34;index_generator&#34;:{&#34;per_page&#34;:10,&#34;order_by&#34;:&#34;-date&#34;,&#34;path&#34;:&#34;&#34;},&#34;archive_generator&#34;:{&#34;per_page&#34;:10,&#34;yearly&#34;:true,&#34;monthly&#34;:true,&#34;daily&#34;:false},&#34;category_generator&#34;:{&#34;per_page&#34;:10},&#34;tag_generator&#34;:{&#34;per_page&#34;:10},&#34;marked&#34;:{&#34;gfm&#34;:true,&#34;pedantic&#34;:false,&#34;sanitize&#34;:false,&#34;tables&#34;:true,&#34;breaks&#34;:true,&#34;smartLists&#34;:true,&#34;smartypants&#34;:true,&#34;modifyAnchors&#34;:&#34;&#34;,&#34;autolink&#34;:true},&#34;server&#34;:{&#34;port&#34;:4000,&#34;log&#34;:false,&#34;compress&#34;:false,&#34;header&#34;:true},&#34;menu&#34;:{&#34;home&#34;:&#34;/&#34;,&#34;archives&#34;:&#34;/archives&#34;,&#34;about&#34;:&#34;/about&#34;},&#34;logo&#34;:&#34;/images/avatar.png&#34;,&#34;categories_max&#34;:5,&#34;tags_max&#34;:10,&#34;favicon&#34;:&#34;/images/favicon.ico&#34;,&#34;site_search&#34;:true,&#34;rss&#34;:&#34;/atom.xml&#34;,&#34;follow&#34;:{&#34;weibo&#34;:&#34;https://weibo.com/5734638106/profile?topnav=1&amp;wvr=6&#34;,&#34;github&#34;:&#34;https://github.com/mallSeven&#34;,&#34;facebook&#34;:&#34;https://www.facebook.com/profile.php?id=100027223340541&#34;},&#34;search_url&#34;:&#34;/search.xml&#34;,&#34;site_icp&#34;:&#34;&#34;,&#34;share&#34;:[&#34;weibo&#34;,&#34;weixin&#34;,&#34;qqkongjian&#34;,&#34;QQ&#34;],&#34;cdn_module&#34;:{&#34;av_min&#34;:&#34;https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min&#34;,&#34;pjax&#34;:&#34;https://cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min&#34;,&#34;jquery&#34;:&#34;https://cdn.bootcss.com/jquery/3.4.1/jquery.min&#34;,&#34;confirm&#34;:&#34;https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min&#34;,&#34;fancybox&#34;:&#34;https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min&#34;},&#34;baidu_push&#34;:true,&#34;reward&#34;:{&#34;weixin&#34;:&#34;images/weixin.png&#34;,&#34;zhifubao&#34;:&#34;images/zhifubao.png&#34;}}</p>
</html>
<script type="text/javascript">
  window.addEventListener('load', function() {
    ;(adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: '',
      enable_page_level_ads: true
    })

    window.THEME_CONFIG = JSON.parse(document.getElementById("theme_str").innerText)
    window.loadJs = function(d, m, a) {
      var c = document.getElementsByTagName('head')[0] || document.head || document.documentElement
      var b = document.createElement('script')
      b.defer = true
      b.setAttribute('type', 'text/javascript')
      b.setAttribute('charset', 'UTF-8')
      b.setAttribute('async', 'true')
      b.setAttribute('src', d)
      m && b.setAttribute('data-main', '/scripts/app')
      if (typeof a === 'function') {
        if (window.attachEvent) {
          b.onreadystatechange = function() {
            var e = b.readyState
            if (e === 'loaded' || e === 'complete') {
              b.onreadystatechange = null
              a()
            }
          }
        } else {
          b.onload = a
        }
      }
      c.appendChild(b)
    }
    window.loadJs &&
      window.loadJs('https://cdn.bootcss.com/require.js/2.3.6/require.min.js', true, function() {
        require.config({
          paths: {
            // site
            share: 'share',
            search: 'search',
            iconfont: 'iconfont',
            util: 'util',
            valine: ['cdn/Valine.min'],

            // cdn
            av: ['https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min', 'cdn/av-min'],
            pjax: ['https://cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min', 'cdn/pjax.min'],
            jquery: ['https://cdn.bootcss.com/jquery/3.4.1/jquery.min', 'cdn/jquery.min'],
            confirm: ['https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min', 'cdn/jquery.confirm.min'],
            fancybox: ['https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min', 'cdn/jquery.fancybox.min']
          },

          map: {
            '*': {
              css: 'https://cdn.bootcss.com/require-css/0.1.10/css.min.js'
            }
          },

          shim: {
            fancybox: {
              deps: ['css!https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css']
            },
            confirm: {
              deps: ['css!https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min.css']
            }
          },

          // 加载超时
          waitSeconds: 3
        })
      })
  })
</script>

<script>
  ;(function() {
    var bp = document.createElement('script')
    var curProtocol = window.location.protocol.split(':')[0]
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'
    } else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js'
    }
    var s = document.getElementsByTagName('script')[0]
    s.parentNode.insertBefore(bp, s)
  })()
</script>


<script src="https://cdn.jsdelivr.net/npm/algoliasearch@3.33.0/dist/algoliasearchLite.min.js"></script>

<script>
  const client = algoliasearch('UL5U4KF7NA', 'cb0ba3563c92ba60965c89cce8c69077')
  const index = client.initIndex('Utone')

  // only query string
  index.search(
    {
      query: '倒影'
    },
    (err, { hits } = {}) => {
      if (err) throw err

      console.log(hits)
    }
  )
</script>
